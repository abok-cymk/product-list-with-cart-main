import{j as e,u as h,r as c,H as j,T as f,B as u,C as b}from"./index-DpLBxEAm.js";const N="/product-list-with-cart-main",g=()=>e.jsxs("div",{className:"flex flex-col items-center text-center mt-10",children:[e.jsx("img",{src:`${N}/illustration-empty-cart.svg`,alt:"Illustration empty cart"}),e.jsx("p",{children:"Your added items will appear here"})]}),m="/product-list-with-cart-main",y=({open:t,onClose:i,onStartNewOrder:d})=>{const{cartItems:r}=h(),o=c.useMemo(()=>r.reduce((a,l)=>a+l.price*(l.quantity||1),0),[r]),x=c.useMemo(()=>r.reduce((a,l)=>(a[l.id]=(l.quantity||1)*l.price,a),{}),[r]);return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:i,"aria-hidden":"true"}),e.jsxs("dialog",{open:!0,className:"bg-white rounded-md p-4 z-50 fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 shadow-2xl min-w-[320px] md:min-w-[420px] max-w-[90vw]",style:{border:"none"},children:[e.jsx("img",{src:`${m}/icon-order-confirmed.svg`,alt:"",className:"h-8 mb-2"}),e.jsx(j,{as:"h2",className:"font-bold text-2xl",children:"Order Confirmed"}),e.jsx(f,{as:"p",className:"text-sm text-Rose-500",children:"We hope you enjoy your food"}),e.jsxs("ul",{className:"bg-Rose-50 p-4 rounded-md divide-y divide-Rose-100 mt-4",children:[r.map(a=>{var l;return e.jsxs("li",{className:"flex justify-between items-center py-4",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("img",{src:`${m}/${((l=a.image)==null?void 0:l.mobile)||""}`,alt:a.name,className:"h-10 w-10 object-cover rounded-md"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm pb-1",children:a.name}),e.jsxs("p",{className:"text-sm font-semibold",children:[e.jsxs("span",{className:"text-Red pr-3",children:[a.quantity||1,"x"]})," ",e.jsxs("span",{className:"text-Rose-400 pr-3",children:["@ $",a.price]})]})]})]}),e.jsxs("span",{className:"text-black text-sm font-bold",children:["$",x[a.id].toFixed(2)]})]},a.id)}),e.jsx("li",{children:e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsx("p",{className:"text-sm text-Rose-400 font-semibold",children:"Order Total"}),e.jsxs("p",{className:"font-bold text-lg",children:["$",o.toFixed(2)]})]})})]}),e.jsx(u,{onClick:d,className:"text-sm bg-Red w-full text-Rose-50 py-2 mt-4",children:"Start New Order"})]})]}):null},w="/product-list-with-cart-main",v=()=>{const{cartItems:t,removeFromCart:i}=h(),[d,r]=c.useState(!1),o=c.useMemo(()=>t.reduce((s,n)=>s+n.price*(n.quantity||1),0),[t]),x=c.useMemo(()=>t.reduce((s,n)=>s+(n.quantity||1),0),[t]),a=c.useMemo(()=>t.reduce((s,n)=>(s[n.id]=(n.quantity||1)*n.price,s),{}),[t]),l=()=>{t.forEach(s=>i(s.id))},p=()=>{l(),r(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("aside",{className:"rounded-md bg-white p-6 shadow-2xl h-fit",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-bold text-Red",children:["Your Cart (",x,")"]}),t.length>0&&e.jsx("button",{className:"underline text-sm decoration-1 decoration-Rose-300 capitalize cursor-pointer",onClick:l,children:"clear cart"})]}),t.length===0&&e.jsx(g,{}),e.jsxs("div",{className:"mt-4",children:[e.jsx("ul",{className:"space-y-2",children:t.map(s=>e.jsxs("li",{className:"flex justify-between border-b border-Rose-100 py-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm pb-1",children:s.name}),e.jsxs("p",{className:"text-sm font-semibold",children:[e.jsxs("span",{className:"text-Red pr-3",children:[s.quantity||1,"x"]})," ",e.jsxs("span",{className:"text-Rose-400 pr-3",children:["@ $",s.price]}),e.jsxs("span",{className:"text-Rose-500",children:["$",a[s.id].toFixed(2)]})]})]}),e.jsx("button",{onClick:()=>i(s.id),children:e.jsx(b,{size:20,className:"text-Rose-500 cursor-pointer"})})]},s.id))}),t.length>0&&e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsx("p",{className:"text-sm text-Rose-400 font-semibold",children:"Order Total"}),e.jsxs("p",{className:"font-bold text-lg",children:["$",o.toFixed(2)]})]}),t.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center w-full justify-center bg-Rose-100 rounded py-1.5 gap-2 mb-4",children:[e.jsx("img",{src:`${w}/icon-carbon-neutral.svg`,alt:""}),e.jsxs("p",{className:"text-xs font-semibold text-Rose-400",children:["This is a"," ",e.jsx("strong",{className:"text-black",children:"carbon-neutral"})," ","delivery"]})]}),e.jsx(u,{className:"text-sm bg-Red w-full text-Rose-50 py-2",onClick:()=>r(!0),children:"Confirm Order"})]})]})]}),e.jsx(y,{open:d,onClose:()=>r(!1),onStartNewOrder:p})]})};export{v as default};
